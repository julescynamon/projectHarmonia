---
interface Props {
  variant?: 'default' | 'hover' | 'feature';
  class?: string;
  title?: string;
  description?: string;
  image?: string;
  date?: string;
  category?: string;
  url?: string;
}

const { 
  variant = 'default',
  class: className = '',
  title,
  description,
  image,
  date,
  category,
  url
} = Astro.props;

const variants = {
  default: 'bg-white shadow-sm',
  hover: 'bg-white shadow-sm hover:shadow-xl hover:-translate-y-1',
  feature: 'bg-cream border border-gold/20 shadow-sm'
};

const baseClasses = 'rounded-2xl transition-all duration-300 border border-sage/10 overflow-hidden';
const classes = `${baseClasses} ${variants[variant]} ${className}`;
---

<div class={classes}>
  {image && (
    <div class="relative aspect-[16/9] overflow-hidden">
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover"
      />
      {category && (
        <div class="absolute top-4 left-4">
          <span class="bg-sage/90 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm">
            {category}
          </span>
        </div>
      )}
    </div>
  )}
  
  <div class="p-6">
    {date && (
      <div class="mb-2">
        <time datetime={date} class="text-sm text-gray-600">
          {date}
        </time>
      </div>
    )}
    
    {title && (
      <h3 class="text-xl font-semibold mb-2">
        {url ? (
          <a href={url} class="hover:text-sage transition-colors">
            {title}
          </a>
        ) : (
          title
        )}
      </h3>
    )}
    
    {description && (
      <p class="text-gray-600 mb-4">
        {description}
      </p>
    )}
    
    {url && !title && (
      <a href={url} class="text-sage hover:text-sage-dark transition-colors">
        En savoir plus â†’
      </a>
    )}
    
    <slot />
  </div>
</div>

<style>
  div {
    position: relative;
    backdrop-filter: blur(10px);
  }
</style>
